<?php

use muh\accounting\Services\JournalService;

// افترض أن معرف الحسابات كما يلي:
// - حساب البنك الخاص بالرواتب: account_id = 301
// - حساب الالتزامات الخاصة بالرواتب (أو الرواتب المستحقة): account_id = 201

$journalService = new JournalService();

$entryDate = date('Y-m-d');
$description = "إيداع مبلغ 5000 دينار في الحساب البنكي الخاص بالرواتب";

// في هذه العملية:
// - نزيد قيمة الحساب البنكي (مدين)
// - نقلل الالتزامات الخاصة بالرواتب (دائن)
$debitDetails = [
    ['account_id' => 301, 'amount' => 5000], // زيادة في حساب البنك
];

$creditDetails = [
    ['account_id' => 201, 'amount' => 5000], // انخفاض في حساب الالتزامات أو الرواتب المستحقة
];

try {
    $journalEntry = $journalService->createMultiAccountEntry($entryDate, $description, $debitDetails, $creditDetails);
    echo "تم إنشاء القيد المحاسبي للإيداع بنجاح، رقم القيد: " . $journalEntry->id;
} catch (\Exception $e) {
    echo "حدث خطأ أثناء إنشاء القيد المحاسبي: " . $e->getMessage();
}
/*
شرح المثال:
تحديد الحسابات:
301: يمثل حساب البنك الخاص بالرواتب، حيث يتم إيداع المبلغ.
201: يمثل حساب الالتزامات الخاصة بالرواتب أو الرواتب المستحقة، ويتم خصم المبلغ منه.
تفاصيل العملية:
يتم إنشاء قيد محاسبي باستخدام طريقة createMultiAccountEntry، حيث يكون مجموع الجانب المدين مساوياً لمجموع الجانب الدائن (5000 دينار).
التنفيذ:
إذا تمت العملية بنجاح، يتم عرض رقم القيد المحاسبي الذي تم إنشاؤه.
في حال حدوث خطأ، يتم عرض رسالة الخطأ المناسبة.
بهذا الشكل يتم إيداع مبلغ مالي في حساب بنكي خاص بالرواتب باستخدام نظام القيد المزدوج.
*/
