<?php

use muh\accounting\Services\JournalService;

// إنشاء كائن من خدمة القيود المحاسبية
$journalService = new JournalService();

// تحديد تاريخ القيد الافتتاحي ووصفه
$entryDate = '2025-01-01';
$description = "قيد افتتاحي للسنة المالية";

// في هذا المثال نفترض:
// - حسابات الأصول (على الجانب المدين) تُسجل أرصدة افتتاحية مثل النقد، الذمم المدينة، المخزون، إلخ.
// - حسابات حقوق الملكية (على الجانب الدائن) تُسجل رأس المال أو الأرباح المحتجزة.
// تأكد من أن إجمالي الجانب المدين يساوي إجمالي الجانب الدائن.

// تفاصيل الجانب المدين (أصول)
$debitDetails = [
    ['account_id' => 401, 'amount' => 10000], // مثال: حساب نقدي
    ['account_id' => 402, 'amount' => 5000],  // مثال: حساب الذمم المدينة أو حساب آخر للأصول
];

// تفاصيل الجانب الدائن (حقوق الملكية)
$creditDetails = [
    ['account_id' => 501, 'amount' => 15000], // مثال: حساب رأس المال أو حقوق الملكية
];

try {
    // إنشاء القيد الافتتاحي باستخدام طريقة القيد المزدوج
    $journalEntry = $journalService->createMultiAccountEntry($entryDate, $description, $debitDetails, $creditDetails);
    echo "تم إنشاء القيد الافتتاحي بنجاح، رقم القيد: " . $journalEntry->id;
} catch (\Exception $e) {
    echo "حدث خطأ أثناء إنشاء القيد الافتتاحي: " . $e->getMessage();
}
/*
شرح المثال:
تحديد التاريخ والوصف:
يتم تحديد تاريخ القيد الافتتاحي (مثلاً '2025-01-01') ووصف القيد على أنه "قيد افتتاحي للسنة المالية".

تحديد تفاصيل الجانب المدين والدائن:

الجانب المدين يحتوي على أرصدة افتتاحية لحسابات الأصول (مثلاً، حساب نقدي بقيمة 10000 دينار وحساب آخر بقيمة 5000 دينار).
الجانب الدائن يحتوي على حساب حقوق ملكية (مثلاً، حساب رأس المال بقيمة 15000 دينار).
تنفيذ العملية:
يتم استدعاء دالة createMultiAccountEntry لإنشاء القيد المحاسبي.
إذا كان القيد متوازنًا (إجمالي المدين يساوي إجمالي الدائن) سيتم حفظ القيد وعرض رقم القيد، وإلا يتم رمي استثناء مع رسالة الخطأ.

هذا المثال يوضح كيفية تسجيل قيد افتتاحي عند بدء السنة المالية باستخدام مكتبة النظام المحاسبي.

*/
